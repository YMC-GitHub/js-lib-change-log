/**
 * change-log v1.0.0
 * (c) 2018-2020 yemiancheng <ymc.github@gmail.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self)["change-log"]=e()}(this,function(){"use strict";function e(t,e){this.init(t,e)}e.prototype.init=function(t,e){return this.options=Object.assign({},{PATH_TO_SAVE:"./",FILE_TO_SAVE:"CHANGELOG.md"},t||{}),this.data=Object.assign({},e||{}),this};var t=function(t,e){var n,i=this.options,o=this.data;return n=!(!e&&""!==e&&0!==e&&!1!==e),t&&n&&t in i&&(o[t]=e),this},n=function(t){var e=this.options;return t in e?e[t]:null},i=function(t){void 0===t&&(t={});var e=Object.assign({},this.options,t);return this.options=e,this},s=require("fs"),a=require("conventional-changelog"),o={get:n,set:t,config:i,writeToFs:function(){var t,e=this.options,n=e.FILE_TO_SAVE,i=e.PATH_TO_SAVE;s.existsSync(i+"/"+n)&&(t=s.readFileSync(i+"/"+n));var o=a({preset:"angular",releaseCount:1}),r=s.createWriteStream(i+"/"+n,{encoding:"utf-8",flags:"w"});o.pipe(r),r.on("finish",function(){t&&s.createWriteStream(i+"/"+n,{encoding:"utf-8",flags:"a"}).write(t)})}};console.log(o),Object.keys(o).sort().forEach(function(t){e.prototype[t]=o[t]});var r,c,f=((c=new(r=e)).feat=function(t,e){return new r},c.Feat=r,c),u={PATH_TO_SAVE:require("path").resolve(__dirname,".."),FILE_TO_SAVE:"CHANGELOG.md"};return f.config(u).writeToFs(),f.config(u),f});