/**
 * change-log v1.0.0
 * (c) 2018-2020 yemiancheng <ymc.github@gmail.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self)["change-log"]=e()}(this,function(){"use strict";function e(t){this.init(t)}e.prototype.init=function(t){return this.options=Object.assign({},{PATH_TO_SAVE:"./",FILE_TO_SAVE:"CHANGELOG.md"},t||{}),this};var t=function(t,e){var n,i=this.options;return n=!(!e&&""!==e&&0!==e&&!1!==e),t&&n&&(i[t]=e),this},n=function(t){var e=this.options;return t in e?e[t]:null},i=function(t){void 0===t&&(t={});var e=Object.assign({},this.options,t);return this.options=e,this},c=require("fs"),f=require("conventional-changelog"),o={get:n,set:t,config:i,writeToFs:function(){var t,e=this.options,n=e.FILE_TO_SAVE,i=e.PATH_TO_SAVE,o=e.preset;void 0===o&&(o="yemiancheng"),c.existsSync(i+"/"+n)&&(t=c.readFileSync(i+"/"+n));var r=f({preset:o,releaseCount:1}),s=c.createWriteStream(i+"/"+n,{encoding:"utf-8",flags:"w"});r.pipe(s),s.on("finish",function(){t&&c.createWriteStream(i+"/"+n,{encoding:"utf-8",flags:"a"}).write(t)})}};Object.keys(o).sort().forEach(function(t){e.prototype[t]=o[t]});var r,s,u=((s=new(r=e)).feat=function(t){return new r(t)},s.Feat=r,s),a=(require("path"),{PATH_TO_SAVE:process.cwd(),FILE_TO_SAVE:"CHANGELOG.md"});return u.config(a).writeToFs(),u.config(a),u});